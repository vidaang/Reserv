{"ast":null,"code":"'use client';\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport { useMove, clampUseMovePosition } from '@mantine/hooks';\nimport { Thumb } from '../Thumb/Thumb.mjs';\nimport { useColorPickerContext } from '../ColorPicker.context.mjs';\nimport { convertHsvaTo } from '../converters/converters.mjs';\nimport { Box } from '../../../core/Box/Box.mjs';\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols) for (var prop of __getOwnPropSymbols(b)) {\n    if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source) if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0) target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols) for (var prop of __getOwnPropSymbols(source)) {\n    if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop)) target[prop] = source[prop];\n  }\n  return target;\n};\nfunction Saturation(_a) {\n  var _b = _a,\n    {\n      className,\n      onChange,\n      onChangeEnd,\n      value,\n      saturationLabel,\n      focusable = true,\n      size,\n      color,\n      onScrubStart,\n      onScrubEnd\n    } = _b,\n    others = __objRest(_b, [\"className\", \"onChange\", \"onChangeEnd\", \"value\", \"saturationLabel\", \"focusable\", \"size\", \"color\", \"onScrubStart\", \"onScrubEnd\"]);\n  const {\n    getStyles\n  } = useColorPickerContext();\n  const [position, setPosition] = useState({\n    x: value.s / 100,\n    y: 1 - value.v / 100\n  });\n  const positionRef = useRef(position);\n  const {\n    ref\n  } = useMove(({\n    x,\n    y\n  }) => {\n    positionRef.current = {\n      x,\n      y\n    };\n    onChange({\n      s: Math.round(x * 100),\n      v: Math.round((1 - y) * 100)\n    });\n  }, {\n    onScrubEnd: () => {\n      const {\n        x,\n        y\n      } = positionRef.current;\n      onChangeEnd({\n        s: Math.round(x * 100),\n        v: Math.round((1 - y) * 100)\n      });\n      onScrubEnd == null ? void 0 : onScrubEnd();\n    },\n    onScrubStart\n  });\n  useEffect(() => {\n    setPosition({\n      x: value.s / 100,\n      y: 1 - value.v / 100\n    });\n  }, [value.s, value.v]);\n  const handleArrow = (event, pos) => {\n    event.preventDefault();\n    const _position = clampUseMovePosition(pos);\n    onChange({\n      s: Math.round(_position.x * 100),\n      v: Math.round((1 - _position.y) * 100)\n    });\n    onChangeEnd({\n      s: Math.round(_position.x * 100),\n      v: Math.round((1 - _position.y) * 100)\n    });\n  };\n  const handleKeyDown = event => {\n    switch (event.key) {\n      case \"ArrowUp\":\n        {\n          handleArrow(event, {\n            y: position.y - 0.05,\n            x: position.x\n          });\n          break;\n        }\n      case \"ArrowDown\":\n        {\n          handleArrow(event, {\n            y: position.y + 0.05,\n            x: position.x\n          });\n          break;\n        }\n      case \"ArrowRight\":\n        {\n          handleArrow(event, {\n            x: position.x + 0.05,\n            y: position.y\n          });\n          break;\n        }\n      case \"ArrowLeft\":\n        {\n          handleArrow(event, {\n            x: position.x - 0.05,\n            y: position.y\n          });\n          break;\n        }\n    }\n  };\n  return /* @__PURE__ */React.createElement(Box, __spreadProps(__spreadValues(__spreadProps(__spreadValues({}, getStyles(\"saturation\")), {\n    ref\n  }), others), {\n    role: \"slider\",\n    \"aria-label\": saturationLabel,\n    \"aria-valuenow\": position.x,\n    \"aria-valuetext\": convertHsvaTo(\"rgba\", value),\n    tabIndex: focusable ? 0 : -1,\n    onKeyDown: handleKeyDown\n  }), /* @__PURE__ */React.createElement(\"div\", __spreadValues({}, getStyles(\"saturationOverlay\", {\n    style: {\n      backgroundColor: `hsl(${value.h}, 100%, 50%)`\n    }\n  }))), /* @__PURE__ */React.createElement(\"div\", __spreadValues({}, getStyles(\"saturationOverlay\", {\n    style: {\n      backgroundImage: \"linear-gradient(90deg, #fff, transparent)\"\n    }\n  }))), /* @__PURE__ */React.createElement(\"div\", __spreadValues({}, getStyles(\"saturationOverlay\", {\n    style: {\n      backgroundImage: \"linear-gradient(0deg, #000, transparent)\"\n    }\n  }))), /* @__PURE__ */React.createElement(Thumb, __spreadValues({\n    position,\n    size\n  }, getStyles(\"thumb\", {\n    style: {\n      backgroundColor: color\n    }\n  }))));\n}\nSaturation.displayName = \"@mantine/core/Saturation\";\nexport { Saturation };","map":{"version":3,"names":["__defProp","Object","defineProperty","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","key","value","enumerable","configurable","writable","__spreadValues","a","b","prop","call","__spreadProps","__objRest","source","exclude","target","indexOf","Saturation","_a","_b","className","onChange","onChangeEnd","saturationLabel","focusable","size","color","onScrubStart","onScrubEnd","others","getStyles","useColorPickerContext","position","setPosition","useState","x","s","y","v","positionRef","useRef","ref","useMove","current","Math","round","useEffect","handleArrow","event","pos","preventDefault","_position","clampUseMovePosition","handleKeyDown","React","createElement","Box","role","convertHsvaTo","tabIndex","onKeyDown","style","backgroundColor","h","backgroundImage","Thumb","displayName"],"sources":["C:\\Users\\benja\\Documents\\GitHub\\Reserv\\frontend\\node_modules\\@mantine\\core\\src\\components\\ColorPicker\\Saturation\\Saturation.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { UseMovePosition, clampUseMovePosition, useMove } from '@mantine/hooks';\nimport { Box, ElementProps, MantineSize } from '../../../core';\nimport { HsvaColor } from '../ColorPicker.types';\nimport { convertHsvaTo } from '../converters';\nimport { Thumb } from '../Thumb/Thumb';\nimport { useColorPickerContext } from '../ColorPicker.context';\n\nexport interface SaturationProps extends ElementProps<'div', 'onChange'> {\n  value: HsvaColor;\n  onChange: (color: Partial<HsvaColor>) => void;\n  onChangeEnd: (color: Partial<HsvaColor>) => void;\n  onScrubStart?: () => void;\n  onScrubEnd?: () => void;\n  saturationLabel?: string;\n  size: MantineSize | (string & {});\n  color: string;\n  focusable?: boolean;\n}\n\nexport function Saturation({\n  className,\n  onChange,\n  onChangeEnd,\n  value,\n  saturationLabel,\n  focusable = true,\n  size,\n  color,\n  onScrubStart,\n  onScrubEnd,\n  ...others\n}: SaturationProps) {\n  const { getStyles } = useColorPickerContext();\n\n  const [position, setPosition] = useState({ x: value.s / 100, y: 1 - value.v / 100 });\n  const positionRef = useRef(position);\n\n  const { ref } = useMove(\n    ({ x, y }) => {\n      positionRef.current = { x, y };\n      onChange({ s: Math.round(x * 100), v: Math.round((1 - y) * 100) });\n    },\n    {\n      onScrubEnd: () => {\n        const { x, y } = positionRef.current;\n        onChangeEnd({ s: Math.round(x * 100), v: Math.round((1 - y) * 100) });\n        onScrubEnd?.();\n      },\n      onScrubStart,\n    }\n  );\n\n  useEffect(() => {\n    setPosition({ x: value.s / 100, y: 1 - value.v / 100 });\n  }, [value.s, value.v]);\n\n  const handleArrow = (event: React.KeyboardEvent<HTMLDivElement>, pos: UseMovePosition) => {\n    event.preventDefault();\n    const _position = clampUseMovePosition(pos);\n    onChange({ s: Math.round(_position.x * 100), v: Math.round((1 - _position.y) * 100) });\n    onChangeEnd({ s: Math.round(_position.x * 100), v: Math.round((1 - _position.y) * 100) });\n  };\n\n  const handleKeyDown = (event: React.KeyboardEvent<HTMLDivElement>) => {\n    switch (event.key) {\n      case 'ArrowUp': {\n        handleArrow(event, { y: position.y - 0.05, x: position.x });\n        break;\n      }\n\n      case 'ArrowDown': {\n        handleArrow(event, { y: position.y + 0.05, x: position.x });\n        break;\n      }\n\n      case 'ArrowRight': {\n        handleArrow(event, { x: position.x + 0.05, y: position.y });\n        break;\n      }\n\n      case 'ArrowLeft': {\n        handleArrow(event, { x: position.x - 0.05, y: position.y });\n        break;\n      }\n    }\n  };\n\n  return (\n    <Box\n      {...getStyles('saturation')}\n      ref={ref as any}\n      {...others}\n      role=\"slider\"\n      aria-label={saturationLabel}\n      aria-valuenow={position.x}\n      aria-valuetext={convertHsvaTo('rgba', value)}\n      tabIndex={focusable ? 0 : -1}\n      onKeyDown={handleKeyDown}\n    >\n      <div\n        {...getStyles('saturationOverlay', {\n          style: { backgroundColor: `hsl(${value.h}, 100%, 50%)` },\n        })}\n      />\n\n      <div\n        {...getStyles('saturationOverlay', {\n          style: { backgroundImage: 'linear-gradient(90deg, #fff, transparent)' },\n        })}\n      />\n\n      <div\n        {...getStyles('saturationOverlay', {\n          style: { backgroundImage: 'linear-gradient(0deg, #000, transparent)' },\n        })}\n      />\n\n      <Thumb\n        position={position}\n        size={size}\n        {...getStyles('thumb', { style: { backgroundColor: color } })}\n      />\n    </Box>\n  );\n}\n\nSaturation.displayName = '@mantine/core/Saturation';\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}