{"ast":null,"code":"import addClass from 'dom-helpers/addClass';\nimport removeClass from 'dom-helpers/removeClass';\nimport css from 'dom-helpers/css';\nimport getScrollbarSize from 'dom-helpers/scrollbarSize';\nimport isOverflowing from './isOverflowing';\nimport { ariaHidden, hideSiblings, showSiblings } from './manageAriaHidden';\nfunction findIndexOf(arr, cb) {\n  var idx = -1;\n  arr.some(function (d, i) {\n    if (cb(d, i)) {\n      idx = i;\n      return true;\n    }\n    return false;\n  });\n  return idx;\n}\n\n/**\r\n * Proper state management for containers and the modals in those containers.\r\n *\r\n * @internal Used by the Modal to ensure proper styling of containers.\r\n */\nvar ModalManager = /*#__PURE__*/function () {\n  function ModalManager(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n      _ref$hideSiblingNodes = _ref.hideSiblingNodes,\n      hideSiblingNodes = _ref$hideSiblingNodes === void 0 ? true : _ref$hideSiblingNodes,\n      _ref$handleContainerO = _ref.handleContainerOverflow,\n      handleContainerOverflow = _ref$handleContainerO === void 0 ? true : _ref$handleContainerO;\n    this.hideSiblingNodes = void 0;\n    this.handleContainerOverflow = void 0;\n    this.modals = void 0;\n    this.containers = void 0;\n    this.data = void 0;\n    this.scrollbarSize = void 0;\n    this.hideSiblingNodes = hideSiblingNodes;\n    this.handleContainerOverflow = handleContainerOverflow;\n    this.modals = [];\n    this.containers = [];\n    this.data = [];\n    this.scrollbarSize = getScrollbarSize();\n  }\n  var _proto = ModalManager.prototype;\n  _proto.isContainerOverflowing = function isContainerOverflowing(modal) {\n    var data = this.data[this.containerIndexFromModal(modal)];\n    return data && data.overflowing;\n  };\n  _proto.containerIndexFromModal = function containerIndexFromModal(modal) {\n    return findIndexOf(this.data, function (d) {\n      return d.modals.indexOf(modal) !== -1;\n    });\n  };\n  _proto.setContainerStyle = function setContainerStyle(containerState, container) {\n    var style = {\n      overflow: 'hidden'\n    }; // we are only interested in the actual `style` here\n    // because we will override it\n\n    containerState.style = {\n      overflow: container.style.overflow,\n      paddingRight: container.style.paddingRight\n    };\n    if (containerState.overflowing) {\n      // use computed style, here to get the real padding\n      // to add our scrollbar width\n      style.paddingRight = parseInt(css(container, 'paddingRight') || '0', 10) + this.scrollbarSize + \"px\";\n    }\n    css(container, style);\n  };\n  _proto.removeContainerStyle = function removeContainerStyle(containerState, container) {\n    Object.assign(container.style, containerState.style);\n  };\n  _proto.add = function add(modal, container, className) {\n    var modalIdx = this.modals.indexOf(modal);\n    var containerIdx = this.containers.indexOf(container);\n    if (modalIdx !== -1) {\n      return modalIdx;\n    }\n    modalIdx = this.modals.length;\n    this.modals.push(modal);\n    if (this.hideSiblingNodes) {\n      hideSiblings(container, modal);\n    }\n    if (containerIdx !== -1) {\n      this.data[containerIdx].modals.push(modal);\n      return modalIdx;\n    }\n    var data = {\n      modals: [modal],\n      // right now only the first modal of a container will have its classes applied\n      classes: className ? className.split(/\\s+/) : [],\n      overflowing: isOverflowing(container)\n    };\n    if (this.handleContainerOverflow) {\n      this.setContainerStyle(data, container);\n    }\n    data.classes.forEach(addClass.bind(null, container));\n    this.containers.push(container);\n    this.data.push(data);\n    return modalIdx;\n  };\n  _proto.remove = function remove(modal) {\n    var modalIdx = this.modals.indexOf(modal);\n    if (modalIdx === -1) {\n      return;\n    }\n    var containerIdx = this.containerIndexFromModal(modal);\n    var data = this.data[containerIdx];\n    var container = this.containers[containerIdx];\n    data.modals.splice(data.modals.indexOf(modal), 1);\n    this.modals.splice(modalIdx, 1); // if that was the last modal in a container,\n    // clean up the container\n\n    if (data.modals.length === 0) {\n      data.classes.forEach(removeClass.bind(null, container));\n      if (this.handleContainerOverflow) {\n        this.removeContainerStyle(data, container);\n      }\n      if (this.hideSiblingNodes) {\n        showSiblings(container, modal);\n      }\n      this.containers.splice(containerIdx, 1);\n      this.data.splice(containerIdx, 1);\n    } else if (this.hideSiblingNodes) {\n      // otherwise make sure the next top modal is visible to a SR\n      var _data$modals = data.modals[data.modals.length - 1],\n        backdrop = _data$modals.backdrop,\n        dialog = _data$modals.dialog;\n      ariaHidden(false, dialog);\n      ariaHidden(false, backdrop);\n    }\n  };\n  _proto.isTopModal = function isTopModal(modal) {\n    return !!this.modals.length && this.modals[this.modals.length - 1] === modal;\n  };\n  return ModalManager;\n}();\nexport default ModalManager;","map":{"version":3,"names":["addClass","removeClass","css","getScrollbarSize","isOverflowing","ariaHidden","hideSiblings","showSiblings","findIndexOf","arr","cb","idx","some","d","i","ModalManager","_temp","_ref","_ref$hideSiblingNodes","hideSiblingNodes","_ref$handleContainerO","handleContainerOverflow","modals","containers","data","scrollbarSize","_proto","prototype","isContainerOverflowing","modal","containerIndexFromModal","overflowing","indexOf","setContainerStyle","containerState","container","style","overflow","paddingRight","parseInt","removeContainerStyle","Object","assign","add","className","modalIdx","containerIdx","length","push","classes","split","forEach","bind","remove","splice","_data$modals","backdrop","dialog","isTopModal"],"sources":["C:/Users/benja/Documents/GitHub/Reserv/frontend/node_modules/react-overlays/esm/ModalManager.js"],"sourcesContent":["import addClass from 'dom-helpers/addClass';\r\nimport removeClass from 'dom-helpers/removeClass';\r\nimport css from 'dom-helpers/css';\r\nimport getScrollbarSize from 'dom-helpers/scrollbarSize';\r\nimport isOverflowing from './isOverflowing';\r\nimport { ariaHidden, hideSiblings, showSiblings } from './manageAriaHidden';\r\n\r\nfunction findIndexOf(arr, cb) {\r\n  var idx = -1;\r\n  arr.some(function (d, i) {\r\n    if (cb(d, i)) {\r\n      idx = i;\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  });\r\n  return idx;\r\n}\r\n\r\n/**\r\n * Proper state management for containers and the modals in those containers.\r\n *\r\n * @internal Used by the Modal to ensure proper styling of containers.\r\n */\r\nvar ModalManager = /*#__PURE__*/function () {\r\n  function ModalManager(_temp) {\r\n    var _ref = _temp === void 0 ? {} : _temp,\r\n        _ref$hideSiblingNodes = _ref.hideSiblingNodes,\r\n        hideSiblingNodes = _ref$hideSiblingNodes === void 0 ? true : _ref$hideSiblingNodes,\r\n        _ref$handleContainerO = _ref.handleContainerOverflow,\r\n        handleContainerOverflow = _ref$handleContainerO === void 0 ? true : _ref$handleContainerO;\r\n\r\n    this.hideSiblingNodes = void 0;\r\n    this.handleContainerOverflow = void 0;\r\n    this.modals = void 0;\r\n    this.containers = void 0;\r\n    this.data = void 0;\r\n    this.scrollbarSize = void 0;\r\n    this.hideSiblingNodes = hideSiblingNodes;\r\n    this.handleContainerOverflow = handleContainerOverflow;\r\n    this.modals = [];\r\n    this.containers = [];\r\n    this.data = [];\r\n    this.scrollbarSize = getScrollbarSize();\r\n  }\r\n\r\n  var _proto = ModalManager.prototype;\r\n\r\n  _proto.isContainerOverflowing = function isContainerOverflowing(modal) {\r\n    var data = this.data[this.containerIndexFromModal(modal)];\r\n    return data && data.overflowing;\r\n  };\r\n\r\n  _proto.containerIndexFromModal = function containerIndexFromModal(modal) {\r\n    return findIndexOf(this.data, function (d) {\r\n      return d.modals.indexOf(modal) !== -1;\r\n    });\r\n  };\r\n\r\n  _proto.setContainerStyle = function setContainerStyle(containerState, container) {\r\n    var style = {\r\n      overflow: 'hidden'\r\n    }; // we are only interested in the actual `style` here\r\n    // because we will override it\r\n\r\n    containerState.style = {\r\n      overflow: container.style.overflow,\r\n      paddingRight: container.style.paddingRight\r\n    };\r\n\r\n    if (containerState.overflowing) {\r\n      // use computed style, here to get the real padding\r\n      // to add our scrollbar width\r\n      style.paddingRight = parseInt(css(container, 'paddingRight') || '0', 10) + this.scrollbarSize + \"px\";\r\n    }\r\n\r\n    css(container, style);\r\n  };\r\n\r\n  _proto.removeContainerStyle = function removeContainerStyle(containerState, container) {\r\n    Object.assign(container.style, containerState.style);\r\n  };\r\n\r\n  _proto.add = function add(modal, container, className) {\r\n    var modalIdx = this.modals.indexOf(modal);\r\n    var containerIdx = this.containers.indexOf(container);\r\n\r\n    if (modalIdx !== -1) {\r\n      return modalIdx;\r\n    }\r\n\r\n    modalIdx = this.modals.length;\r\n    this.modals.push(modal);\r\n\r\n    if (this.hideSiblingNodes) {\r\n      hideSiblings(container, modal);\r\n    }\r\n\r\n    if (containerIdx !== -1) {\r\n      this.data[containerIdx].modals.push(modal);\r\n      return modalIdx;\r\n    }\r\n\r\n    var data = {\r\n      modals: [modal],\r\n      // right now only the first modal of a container will have its classes applied\r\n      classes: className ? className.split(/\\s+/) : [],\r\n      overflowing: isOverflowing(container)\r\n    };\r\n\r\n    if (this.handleContainerOverflow) {\r\n      this.setContainerStyle(data, container);\r\n    }\r\n\r\n    data.classes.forEach(addClass.bind(null, container));\r\n    this.containers.push(container);\r\n    this.data.push(data);\r\n    return modalIdx;\r\n  };\r\n\r\n  _proto.remove = function remove(modal) {\r\n    var modalIdx = this.modals.indexOf(modal);\r\n\r\n    if (modalIdx === -1) {\r\n      return;\r\n    }\r\n\r\n    var containerIdx = this.containerIndexFromModal(modal);\r\n    var data = this.data[containerIdx];\r\n    var container = this.containers[containerIdx];\r\n    data.modals.splice(data.modals.indexOf(modal), 1);\r\n    this.modals.splice(modalIdx, 1); // if that was the last modal in a container,\r\n    // clean up the container\r\n\r\n    if (data.modals.length === 0) {\r\n      data.classes.forEach(removeClass.bind(null, container));\r\n\r\n      if (this.handleContainerOverflow) {\r\n        this.removeContainerStyle(data, container);\r\n      }\r\n\r\n      if (this.hideSiblingNodes) {\r\n        showSiblings(container, modal);\r\n      }\r\n\r\n      this.containers.splice(containerIdx, 1);\r\n      this.data.splice(containerIdx, 1);\r\n    } else if (this.hideSiblingNodes) {\r\n      // otherwise make sure the next top modal is visible to a SR\r\n      var _data$modals = data.modals[data.modals.length - 1],\r\n          backdrop = _data$modals.backdrop,\r\n          dialog = _data$modals.dialog;\r\n      ariaHidden(false, dialog);\r\n      ariaHidden(false, backdrop);\r\n    }\r\n  };\r\n\r\n  _proto.isTopModal = function isTopModal(modal) {\r\n    return !!this.modals.length && this.modals[this.modals.length - 1] === modal;\r\n  };\r\n\r\n  return ModalManager;\r\n}();\r\n\r\nexport default ModalManager;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}