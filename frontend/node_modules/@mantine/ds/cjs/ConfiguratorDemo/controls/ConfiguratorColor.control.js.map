{"version":3,"file":"ConfiguratorColor.control.js","sources":["../../../src/ConfiguratorDemo/controls/ConfiguratorColor.control.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n  ColorSwatch,\n  Input,\n  BoxProps,\n  ElementProps,\n  CheckIcon,\n  Group,\n  Popover,\n  UnstyledButton,\n  ColorPicker,\n  DEFAULT_THEME,\n} from '@mantine/core';\nimport { getControlLabel } from './get-control-label';\nimport { ConfiguratorControl } from './types';\nimport { ColorWheelIcon } from './ColorWheelIcon';\nimport classes from './ConfiguratorColor.control.module.css';\n\nexport type ConfiguratorColorControlOptions = ConfiguratorControl<\n  'color',\n  { initialValue: string }\n>;\n\nexport interface ConfiguratorColorControlProps\n  extends BoxProps,\n    ElementProps<'div', 'onChange' | 'value' | 'size'> {\n  value: string;\n  onChange: (value: string) => void;\n  prop: string;\n}\n\nexport function ConfiguratorColorControl({\n  value,\n  onChange,\n  prop,\n  ...others\n}: ConfiguratorColorControlProps) {\n  const [colorPickerColor, setColorPickerColor] = useState('#fff');\n\n  const handleColorPickerChange = (color: string) => {\n    setColorPickerColor(color);\n    onChange(color);\n  };\n\n  const colors = Object.keys(DEFAULT_THEME.colors)\n    .filter((color) => color !== 'dark')\n    .map((color) => (\n      <ColorSwatch\n        color={`var(--mantine-color-${color}-filled)`}\n        component=\"button\"\n        key={color}\n        onClick={() => onChange(color)}\n        radius=\"sm\"\n        className={classes.swatch}\n        aria-label={color}\n      >\n        {value === color && <CheckIcon className={classes.check} />}\n      </ColorSwatch>\n    ));\n\n  return (\n    <Input.Wrapper labelElement=\"div\" label={getControlLabel(prop)} {...others}>\n      <Group gap={2} mt={2} wrap=\"wrap\">\n        {colors}\n        <Popover radius=\"md\" position=\"bottom-end\" shadow=\"md\">\n          <Popover.Target>\n            <UnstyledButton className={classes.colorControl} aria-label=\"Pick color\">\n              <ColorWheelIcon />\n            </UnstyledButton>\n          </Popover.Target>\n\n          <Popover.Dropdown p={8}>\n            <ColorPicker\n              value={colorPickerColor}\n              onChange={handleColorPickerChange}\n              format=\"rgba\"\n            />\n          </Popover.Dropdown>\n        </Popover>\n      </Group>\n    </Input.Wrapper>\n  );\n}\n"],"names":["useState","DEFAULT_THEME","React","ColorSwatch","classes","CheckIcon","Input","getControlLabel","Group","Popover","UnstyledButton","ColorWheelIcon","ColorPicker"],"mappings":"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"}